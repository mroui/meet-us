# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type ChatRoom {
  _id: ID!
  name: String!
  description: String
  members: [User!]
  owner: User!
  active: Boolean!
  latitude: Float!
  longitude: Float!
  locationName: String!
  date: String!
  time: String!
  price: Float!
  contact: String!
  createdAt: DateTime!
}

input CreateChatRoomInput {
  name: String!
  description: String
  latitude: Float!
  longitude: Float!
  locationName: String!
  active: Boolean!
  date: String!
  time: String!
  price: Float!
  contact: String!
  createdAt: DateTime!
}

input CreateUserInput {
  email: String!
  password: String!
  profile: ProfileInput!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Message {
  _id: ID!
  msg: String!
  chatroom: ChatRoom!
  from: User
  guestId: String
  guestName: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

input MessageInput {
  guestId: String
  guestName: String
  msg: String!
  chatroom: ID!
  nickname: String!
}

type Mutation {
  createUser(user: CreateUserInput!): ID!

  """Adds new message to chatroom"""
  addMessage(message: MessageInput!): ID

  """Adds user to existing chatroom"""
  joinToEvent(chatroom: String!): ChatRoom!

  """Remove user from existing chatroom"""
  leaveEvent(chatroom: String!): ChatRoom!

  """Creates and return new chatroom id"""
  createNewChatroom(chatroom: CreateChatRoomInput!): ID!

  """Update and return new chatroom"""
  updateChatroom(chatroomId: String!, chatroom: CreateChatRoomInput!): ChatRoom!

  """Delete chatroom by ID"""
  deleteChatroom(chatroomId: String!): Boolean!
}

type Profile {
  firstName: String!
  lastName: String!
}

input ProfileInput {
  firstName: String!
  lastName: String!
}

type Property {
  address: String!
  placeId: String!
  rentAmount: Float!
}

input PropertyInput {
  address: String!
  placeId: String!
  rentAmount: Float!
}

type Query {
  me: User!

  """Get all messages for specified chatroom by chatroomId"""
  messages(chatroom: String!): [Message!]

  """Get ChatRoom by id"""
  chatroom(_id: String!): ChatRoom!

  """Get list of all chatrooms"""
  chatrooms: [ChatRoom!]!

  """Get list of all user chatrooms"""
  myChatrooms: [ChatRoom!]!
}

enum Role {
  User
  Admin
}

type User {
  _id: ID!
  profile: Profile!
  properties: [Property!]
  roles: [Role!]!
  createdAt: DateTime!
  updatedAt: DateTime!
  firstName: String!
  lastName: String!
}
